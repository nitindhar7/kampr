{
    "id":113717,
    "tiny_id":"PU5",
    "post_type":"code",
    "post_url":"http:\/\/forrst.com\/posts\/I_Have_Been_Studying_Maps_API_All_Week_Here_is-PU5",
    "created_at":"2011-10-16 03:59:51",
    "updated_at":"2011-10-16 04:00:39",
    "user":{
        "id":39426,
        "username":"SpencerCooley",
        "name":"Spencer Cooley",
        "url":"http:\/\/forrst.com\/people\/SpencerCooley",
        "posts":"1",
        "comments":"0",
        "likes":"2",
        "followers":"1",
        "following":"0",
        "typecast_posts":1,
        "typecast_comments":0,
        "typecast_likes":2,
        "typecast_followers":1,
        "typecast_following":0,
        "photos":{
            "xl_url":"https:\/\/forrst-production.s3.amazonaws.com\/users\/photos\/39426\/xl.png?1318745548",
            "large_url":"https:\/\/forrst-production.s3.amazonaws.com\/users\/photos\/39426\/large.png?1318745548",
            "medium_url":"https:\/\/forrst-production.s3.amazonaws.com\/users\/photos\/39426\/medium.png?1318745548",
            "small_url":"https:\/\/forrst-production.s3.amazonaws.com\/users\/photos\/39426\/small.png?1318745548",
            "thumb_url":"https:\/\/forrst-production.s3.amazonaws.com\/users\/photos\/39426\/thumb.png?1318745548"
        },
        "bio":"\n<p>I became very interested in design about two years ago when I\nwas given a copy of CS3 by some crazy guy. I found myself wasting a\nlot of time designing logos for imaginary companies that I wished I\ncould start. I didn't want my ideas disappearing into the ether as\nis the case for most dreamers so I started teaching myself to code.\nI am currently building a Rails application that I am going to\nmarket to the restaurant industry.<\/p>\n\n",
        "is_a":"developer & designer",
        "homepage_url":"http:\/\/www.spencercooley.me",
        "twitter":"SpencerCooley",
        "in_directory":false,
        "tag_string":""
    },
    "published":true,
    "public":true,
    "title":"I Have Been Studying Maps API All Week. Here is my progress.",
    "url":"",
    "content":"$(document).ready(function(){\r\nvar san_antonio = new google.maps.LatLng(29.5, -98.21);\r\n\r\n\/\/creating an object literal containing the properties\r\nvar options = {\r\n  zoom: 9,\r\n  center: san_antonio,\r\n  mapTypeId: google.maps.MapTypeId.ROADMAP \r\n}\r\n\/\/creating the map\r\nvar map = new google.maps.Map(document.getElementById('map'), options);\r\n\r\n\/\/~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n\/\/generates a random 5 character string.\r\nfunction randomString(len, charSet) {\r\n    charSet = charSet || 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var randomString = '';\r\n    for (var i = 0; i < len; i++) {\r\n        var randomPoz = Math.floor(Math.random() * charSet.length);\r\n        randomString += charSet.substring(randomPoz,randomPoz+1);\r\n    }\r\n    return randomString;\r\n}\r\n\r\n\/\/creates an event listener that places a marker in the spot you click\r\ngoogle.maps.event.addListener(map,'click', function(e){\r\n  var marker = new google.maps.Marker({\r\n    map:map, \r\n    position: e.latLng,\r\n    draggable: true\r\n  });\r\n  \r\n  \/\/sets random_selector to a random 5 character string\r\n  var random_selector = randomString(5);\r\n  \r\n  \/\/appends a new input box with a unique id every time you click\r\n  $('#point').append('<input '+'type=text '+'id='+ random_selector +' size=60 \/>');\r\n  $('#'+random_selector).attr(\"value\", e.latLng);\r\n  \r\n  \r\n  \/\/adds an event listener that writes the latlng in the input box as it is dragged. \r\n  google.maps.event.addListener(marker, 'drag', function(){\r\n   var marker_position = marker.getPosition();\r\n   $('#'+random_selector).val(marker_position);\r\n  });\r\n  \r\n\/\/ends the click event listener    \r\n});\r\n\/\/ends the dom loader\r\n});",
    "description":"Just started reading the Google Maps API3 book this past Monday. I still have a little bit more studying to do, but I think I am on the right track. Just thought I would share this on here since I just joined the site a couple days ago. I am not sure what is normal to post here(Q&A, thoughts, rants ?) , so I am just going to write about what I did today and what I am trying to accomplish. Any advice would be great.\r\n\r\nMy ultimate goal in learning the api is to create an interface that allows the user to draw regions on a map and save those regions to a database; this is for use in an awesome rails app I am building. I figured that I could move in the right direction by first trying to get a plain old marker's latlng value into a form input element. I did this, then I thought, now let's try to get a marker to show up in the exact spot I click, did that. Now, as you can see from the code, I am at the point where I can place a marker on click, append an input element with a unique id and the value of the clicked spot, and have the value of the input field change as I drag the marker around. Tomorrow I am going to try and use the latlng points of each marker and put them into an array to make a polygon; this way the user will \r\nbe able to draw a polygon and use the markers as handles so the can drag them around and change the shape. There are still some issues I can see with this method, but in most cases it is better to just start doing something and make it better in a later iteration.",
    "formatted_content":"\n<p>$(document).ready(function(){ var san_antonio = new\ngoogle.maps.LatLng(29.5, -98.21);<\/p>\n<p>\/\/creating an object literal containing the properties var\noptions = { zoom: 9, center: san_antonio, mapTypeId:\ngoogle.maps.MapTypeId.ROADMAP } \/\/creating the map var map = new\ngoogle.maps.Map(document.getElementById('map'), options);<\/p>\n<p>\n\/\/~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<\/p>\n<p>\/\/generates a random 5 character string. function\nrandomString(len, charSet) { charSet = charSet ||\n'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\nvar randomString = ''; for (var i = 0; i &lt; len; i++) { var\nrandomPoz = Math.floor(Math.random() * charSet.length);\nrandomString += charSet.substring(randomPoz,randomPoz+1); } return\nrandomString; }<\/p>\n<p>\/\/creates an event listener that places a marker in the spot you\nclick google.maps.event.addListener(map,'click', function(e){ var\nmarker = new google.maps.Marker({ map:map, position: e.latLng,\ndraggable: true });<\/p>\n<p>\/\/sets random_selector to a random 5 character string var\nrandom_selector = randomString(5);<\/p>\n<p>\/\/appends a new input box with a unique id every time you click\n$('#point').append('&lt;input '+'type=text '+'id='+ random_selector\n+' size=60 \/&gt;'); $('#'+random_selector).attr(\"value\",\ne.latLng);<\/p>\n<p>\/\/adds an event listener that writes the latlng in the input box\nas it is dragged. google.maps.event.addListener(marker, 'drag',\nfunction(){ var marker_position = marker.getPosition();\n$('#'+random_selector).val(marker_position); });<\/p>\n<p>\/\/ends the click event listener<br>\n}); \/\/ends the dom loader });<\/p>\n\n",
    "formatted_description":"\n<p>Just started reading the Google Maps API3 book this past Monday.\nI still have a little bit more studying to do, but I think I am on\nthe right track. Just thought I would share this on here since I\njust joined the site a couple days ago. I am not sure what is\nnormal to post here(Q&amp;A, thoughts, rants ?) , so I am just\ngoing to write about what I did today and what I am trying to\naccomplish. Any advice would be great.<\/p>\n<p>My ultimate goal in learning the api is to create an interface\nthat allows the user to draw regions on a map and save those\nregions to a database; this is for use in an awesome rails app I am\nbuilding. I figured that I could move in the right direction by\nfirst trying to get a plain old marker's latlng value into a form\ninput element. I did this, then I thought, now let's try to get a\nmarker to show up in the exact spot I click, did that. Now, as you\ncan see from the code, I am at the point where I can place a marker\non click, append an input element with a unique id and the value of\nthe clicked spot, and have the value of the input field change as I\ndrag the marker around. Tomorrow I am going to try and use the\nlatlng points of each marker and put them into an array to make a\npolygon; this way the user will be able to draw a polygon and use\nthe markers as handles so the can drag them around and change the\nshape. There are still some issues I can see with this method, but\nin most cases it is better to just start doing something and make\nit better in a later iteration.<\/p>\n\n",
    "view_count":20,
    "like_count":"0",
    "comment_count":"0",
    "typecast_view_count":20,
    "typecast_like_count":0,
    "typecast_comment_count":0,
    "tag_string":"maps,javascipt,rails",
    "tags":["javascipt","maps","rails"]
}